- name: RedHat specific basics
  become: true
  block:
    - name: RedHat - Enable EPEL repo
      ansible.builtin.package:
        name: epel-release
        state: present

    - name: RedHat - Exclude Zabbix from EPEL repo
      community.general.ini_file:
        path: /etc/yum.repos.d/epel.repo
        section: epel
        option: excludepkgs
        value: "zabbix*"
        mode: "0644"

    - name: RedHat - Install base packages
      ansible.builtin.package:
        name: "{{ jwba_base_packages_redhat }}"
        state: present
