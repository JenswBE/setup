argument_specs:
  main:
    short_description: Setup network config
    options:
      # === REQUIRED ===
      ansible_distribution:
        type: str
        required: true
        choices: # Others exist, but these are supported in the role
          - Debian
        description: Name of the Linux distribution

      # === OPTIONAL ===
      jwnetconf_dhcp_fallback_prefixes:
        type: list
        elements: str
      jwnetconf_interfaces:
        type: list
        elements: dict
        required: true
        required_if:
          - ["type", "static", ["cidr_address"]]
        options:
          name:
            type: str
            required: true
            description: Name of the interface
          name_is_wildcard_prefix:
            type: bool
            required: false
            description: When set, a wildcard will be appended after the name
          priority:
            type: int
            required: true
            description: The priority of the network config. First matching config is used.
          type:
            type: str
            required: true
            choices:
              - dhcp
              - static
          cidr_address:
            type: str
            # required: See "required_if"
      jwnetconf_override_dns:
        type: list
        elements: str
        required: false
        description: Use these DNS IP's instead of the DHCP provided ones
