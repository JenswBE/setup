- name: Install base packages
  become: yes
  package:
      state: present
      name: "{{ item }}"
  with_items: "{{ packages_base }}"

- name: Create opt directories - Root access only
  become: yes
  file:
    path: "/opt/{{ item }}"
    state: directory
    owner: "root"
    group: "root"
    mode: 0700
  with_items:
    - appdata
    - conf

- name: Create opt directories - Read access
  become: yes
  file:
    path: "/opt/{{ item }}"
    state: directory
    owner: "root"
    group: "root"
    mode: 0755
  with_items:
    - bin